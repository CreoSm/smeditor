import{g as Xt,F as V,M as dn,K as mn,a as Ht,I as vn,t as En,O as ie,l as gn,C as ut,b as wn,R as $n,T as yn,D as ft,U as Rn,B as In,c as Tn,A as pt,i as Sn,d as dt,e as Ln,f as mt,h as An,E as Nn,j as vt,k as On,m as xn,W as Et,n as bn}from"./ChartManager-b5a8bd39.js";var qe={exports:{}};const Cn="2.0.0",Bt=256,_n=Number.MAX_SAFE_INTEGER||9007199254740991,Pn=16,Dn=Bt-6,jn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ae={MAX_LENGTH:Bt,MAX_SAFE_COMPONENT_LENGTH:Pn,MAX_SAFE_BUILD_LENGTH:Dn,MAX_SAFE_INTEGER:_n,RELEASE_TYPES:jn,SEMVER_SPEC_VERSION:Cn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Fn=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};var Ne=Fn;(function(n,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:o}=Ae,a=Ne;e=n.exports={};const d=e.re=[],E=e.safeRe=[],c=e.src=[],u=e.t={};let m=0;const $="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",o],[$,s]],y=Y=>{for(const[U,J]of _)Y=Y.split(`${U}*`).join(`${U}{0,${J}}`).split(`${U}+`).join(`${U}{1,${J}}`);return Y},S=(Y,U,J)=>{const G=y(U),Q=m++;a(Y,Q,U),u[Y]=Q,c[Q]=U,d[Q]=new RegExp(U,J?"g":void 0),E[Q]=new RegExp(G,J?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${$}*`),S("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${$}+`),S("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),S("FULL",`^${c[u.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),S("LOOSE",`^${c[u.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),S("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),S("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),S("COERCERTL",c[u.COERCE],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",S("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",S("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(qe,qe.exports);var Ee=qe.exports;const Gn=Object.freeze({loose:!0}),Mn=Object.freeze({}),Wn=n=>n?typeof n!="object"?Gn:n:Mn;var Ye=Wn;const gt=/^[0-9]+$/,qt=(n,e)=>{const t=gt.test(n),s=gt.test(e);return t&&s&&(n=+n,e=+e),n===e?0:t&&!s?-1:s&&!t?1:n<e?-1:1},Vn=(n,e)=>qt(e,n);var Yt={compareIdentifiers:qt,rcompareIdentifiers:Vn};const Re=Ne,{MAX_LENGTH:wt,MAX_SAFE_INTEGER:Ie}=Ae,{safeRe:$t,t:yt}=Ee,Un=Ye,{compareIdentifiers:he}=Yt;let Xn=class ee{constructor(e,t){if(t=Un(t),e instanceof ee){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>wt)throw new TypeError(`version is longer than ${wt} characters`);Re("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?$t[yt.LOOSE]:$t[yt.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>Ie||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ie||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ie||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const a=+o;if(a>=0&&a<Ie)return a}return o}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Re("SemVer.compare",this.version,this.options,e),!(e instanceof ee)){if(typeof e=="string"&&e===this.version)return 0;e=new ee(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ee||(e=new ee(e,this.options)),he(this.major,e.major)||he(this.minor,e.minor)||he(this.patch,e.patch)}comparePre(e){if(e instanceof ee||(e=new ee(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],o=e.prerelease[t];if(Re("prerelease compare",t,s,o),s===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(s===void 0)return-1;if(s===o)continue;return he(s,o)}while(++t)}compareBuild(e){e instanceof ee||(e=new ee(e,this.options));let t=0;do{const s=this.build[t],o=e.build[t];if(Re("prerelease compare",t,s,o),s===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(s===void 0)return-1;if(s===o)continue;return he(s,o)}while(++t)}inc(e,t,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,s),this.inc("pre",t,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,s),this.inc("pre",t,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const o=Number(s)?1:0;if(!t&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(t){let a=[t,o];s===!1&&(a=[t]),he(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var H=Xn;const Rt=H,Hn=(n,e,t=!1)=>{if(n instanceof Rt)return n;try{return new Rt(n,e)}catch(s){if(!t)return null;throw s}};var pe=Hn;const Bn=pe,qn=(n,e)=>{const t=Bn(n,e);return t?t.version:null};var Yn=qn;const zn=pe,kn=(n,e)=>{const t=zn(n.trim().replace(/^[=v]+/,""),e);return t?t.version:null};var Kn=kn;const It=H,Zn=(n,e,t,s,o)=>{typeof t=="string"&&(o=s,s=t,t=void 0);try{return new It(n instanceof It?n.version:n,t).inc(e,s,o).version}catch{return null}};var Jn=Zn;const Tt=pe,Qn=(n,e)=>{const t=Tt(n,null,!0),s=Tt(e,null,!0),o=t.compare(s);if(o===0)return null;const a=o>0,d=a?t:s,E=a?s:t,c=!!d.prerelease.length;if(!!E.prerelease.length&&!c)return!E.patch&&!E.minor?"major":d.patch?"patch":d.minor?"minor":"major";const m=c?"pre":"";return t.major!==s.major?m+"major":t.minor!==s.minor?m+"minor":t.patch!==s.patch?m+"patch":"prerelease"};var er=Qn;const tr=H,nr=(n,e)=>new tr(n,e).major;var rr=nr;const sr=H,ir=(n,e)=>new sr(n,e).minor;var or=ir;const ar=H,lr=(n,e)=>new ar(n,e).patch;var cr=lr;const hr=pe,ur=(n,e)=>{const t=hr(n,e);return t&&t.prerelease.length?t.prerelease:null};var fr=ur;const St=H,pr=(n,e,t)=>new St(n,t).compare(new St(e,t));var K=pr;const dr=K,mr=(n,e,t)=>dr(e,n,t);var vr=mr;const Er=K,gr=(n,e)=>Er(n,e,!0);var wr=gr;const Lt=H,$r=(n,e,t)=>{const s=new Lt(n,t),o=new Lt(e,t);return s.compare(o)||s.compareBuild(o)};var ze=$r;const yr=ze,Rr=(n,e)=>n.sort((t,s)=>yr(t,s,e));var Ir=Rr;const Tr=ze,Sr=(n,e)=>n.sort((t,s)=>Tr(s,t,e));var Lr=Sr;const Ar=K,Nr=(n,e,t)=>Ar(n,e,t)>0;var Oe=Nr;const Or=K,xr=(n,e,t)=>Or(n,e,t)<0;var ke=xr;const br=K,Cr=(n,e,t)=>br(n,e,t)===0;var zt=Cr;const _r=K,Pr=(n,e,t)=>_r(n,e,t)!==0;var kt=Pr;const Dr=K,jr=(n,e,t)=>Dr(n,e,t)>=0;var Ke=jr;const Fr=K,Gr=(n,e,t)=>Fr(n,e,t)<=0;var Ze=Gr;const Mr=zt,Wr=kt,Vr=Oe,Ur=Ke,Xr=ke,Hr=Ze,Br=(n,e,t,s)=>{switch(e){case"===":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n===t;case"!==":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n!==t;case"":case"=":case"==":return Mr(n,t,s);case"!=":return Wr(n,t,s);case">":return Vr(n,t,s);case">=":return Ur(n,t,s);case"<":return Xr(n,t,s);case"<=":return Hr(n,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var Kt=Br;const qr=H,Yr=pe,{safeRe:Te,t:Se}=Ee,zr=(n,e)=>{if(n instanceof qr)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;e=e||{};let t=null;if(!e.rtl)t=n.match(Te[Se.COERCE]);else{let s;for(;(s=Te[Se.COERCERTL].exec(n))&&(!t||t.index+t[0].length!==n.length);)(!t||s.index+s[0].length!==t.index+t[0].length)&&(t=s),Te[Se.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;Te[Se.COERCERTL].lastIndex=-1}return t===null?null:Yr(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};var kr=zr,Ge,At;function Kr(){return At||(At=1,Ge=function(n){n.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Ge}var Zr=O;O.Node=le;O.create=O;function O(n){var e=this;if(e instanceof O||(e=new O),e.tail=null,e.head=null,e.length=0,n&&typeof n.forEach=="function")n.forEach(function(o){e.push(o)});else if(arguments.length>0)for(var t=0,s=arguments.length;t<s;t++)e.push(arguments[t]);return e}O.prototype.removeNode=function(n){if(n.list!==this)throw new Error("removing node which does not belong to this list");var e=n.next,t=n.prev;return e&&(e.prev=t),t&&(t.next=e),n===this.head&&(this.head=e),n===this.tail&&(this.tail=t),n.list.length--,n.next=null,n.prev=null,n.list=null,e};O.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var e=this.head;n.list=this,n.next=e,e&&(e.prev=n),this.head=n,this.tail||(this.tail=n),this.length++}};O.prototype.pushNode=function(n){if(n!==this.tail){n.list&&n.list.removeNode(n);var e=this.tail;n.list=this,n.prev=e,e&&(e.next=n),this.tail=n,this.head||(this.head=n),this.length++}};O.prototype.push=function(){for(var n=0,e=arguments.length;n<e;n++)Qr(this,arguments[n]);return this.length};O.prototype.unshift=function(){for(var n=0,e=arguments.length;n<e;n++)es(this,arguments[n]);return this.length};O.prototype.pop=function(){if(this.tail){var n=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,n}};O.prototype.shift=function(){if(this.head){var n=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,n}};O.prototype.forEach=function(n,e){e=e||this;for(var t=this.head,s=0;t!==null;s++)n.call(e,t.value,s,this),t=t.next};O.prototype.forEachReverse=function(n,e){e=e||this;for(var t=this.tail,s=this.length-1;t!==null;s--)n.call(e,t.value,s,this),t=t.prev};O.prototype.get=function(n){for(var e=0,t=this.head;t!==null&&e<n;e++)t=t.next;if(e===n&&t!==null)return t.value};O.prototype.getReverse=function(n){for(var e=0,t=this.tail;t!==null&&e<n;e++)t=t.prev;if(e===n&&t!==null)return t.value};O.prototype.map=function(n,e){e=e||this;for(var t=new O,s=this.head;s!==null;)t.push(n.call(e,s.value,this)),s=s.next;return t};O.prototype.mapReverse=function(n,e){e=e||this;for(var t=new O,s=this.tail;s!==null;)t.push(n.call(e,s.value,this)),s=s.prev;return t};O.prototype.reduce=function(n,e){var t,s=this.head;if(arguments.length>1)t=e;else if(this.head)s=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;s!==null;o++)t=n(t,s.value,o),s=s.next;return t};O.prototype.reduceReverse=function(n,e){var t,s=this.tail;if(arguments.length>1)t=e;else if(this.tail)s=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;s!==null;o--)t=n(t,s.value,o),s=s.prev;return t};O.prototype.toArray=function(){for(var n=new Array(this.length),e=0,t=this.head;t!==null;e++)n[e]=t.value,t=t.next;return n};O.prototype.toArrayReverse=function(){for(var n=new Array(this.length),e=0,t=this.tail;t!==null;e++)n[e]=t.value,t=t.prev;return n};O.prototype.slice=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new O;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var s=0,o=this.head;o!==null&&s<n;s++)o=o.next;for(;o!==null&&s<e;s++,o=o.next)t.push(o.value);return t};O.prototype.sliceReverse=function(n,e){e=e||this.length,e<0&&(e+=this.length),n=n||0,n<0&&(n+=this.length);var t=new O;if(e<n||e<0)return t;n<0&&(n=0),e>this.length&&(e=this.length);for(var s=this.length,o=this.tail;o!==null&&s>e;s--)o=o.prev;for(;o!==null&&s>n;s--,o=o.prev)t.push(o.value);return t};O.prototype.splice=function(n,e,...t){n>this.length&&(n=this.length-1),n<0&&(n=this.length+n);for(var s=0,o=this.head;o!==null&&s<n;s++)o=o.next;for(var a=[],s=0;o&&s<e;s++)a.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var s=0;s<t.length;s++)o=Jr(this,o,t[s]);return a};O.prototype.reverse=function(){for(var n=this.head,e=this.tail,t=n;t!==null;t=t.prev){var s=t.prev;t.prev=t.next,t.next=s}return this.head=e,this.tail=n,this};function Jr(n,e,t){var s=e===n.head?new le(t,null,e,n):new le(t,e,e.next,n);return s.next===null&&(n.tail=s),s.prev===null&&(n.head=s),n.length++,s}function Qr(n,e){n.tail=new le(e,n.tail,null,n),n.head||(n.head=n.tail),n.length++}function es(n,e){n.head=new le(e,null,n.head,n),n.tail||(n.tail=n.head),n.length++}function le(n,e,t,s){if(!(this instanceof le))return new le(n,e,t,s);this.list=s,this.value=n,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Kr()(O)}catch{}const ts=Zr,oe=Symbol("max"),ne=Symbol("length"),ue=Symbol("lengthCalculator"),ve=Symbol("allowStale"),ae=Symbol("maxAge"),te=Symbol("dispose"),Nt=Symbol("noDisposeOnSet"),M=Symbol("lruList"),k=Symbol("cache"),Zt=Symbol("updateAgeOnGet"),Me=()=>1;class ns{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[oe]=e.max||1/0;const t=e.length||Me;if(this[ue]=typeof t!="function"?Me:t,this[ve]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ae]=e.maxAge||0,this[te]=e.dispose,this[Nt]=e.noDisposeOnSet||!1,this[Zt]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[oe]=e||1/0,de(this)}get max(){return this[oe]}set allowStale(e){this[ve]=!!e}get allowStale(){return this[ve]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ae]=e,de(this)}get maxAge(){return this[ae]}set lengthCalculator(e){typeof e!="function"&&(e=Me),e!==this[ue]&&(this[ue]=e,this[ne]=0,this[M].forEach(t=>{t.length=this[ue](t.value,t.key),this[ne]+=t.length})),de(this)}get lengthCalculator(){return this[ue]}get length(){return this[ne]}get itemCount(){return this[M].length}rforEach(e,t){t=t||this;for(let s=this[M].tail;s!==null;){const o=s.prev;Ot(this,e,s,t),s=o}}forEach(e,t){t=t||this;for(let s=this[M].head;s!==null;){const o=s.next;Ot(this,e,s,t),s=o}}keys(){return this[M].toArray().map(e=>e.key)}values(){return this[M].toArray().map(e=>e.value)}reset(){this[te]&&this[M]&&this[M].length&&this[M].forEach(e=>this[te](e.key,e.value)),this[k]=new Map,this[M]=new ts,this[ne]=0}dump(){return this[M].map(e=>Le(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[M]}set(e,t,s){if(s=s||this[ae],s&&typeof s!="number")throw new TypeError("maxAge must be a number");const o=s?Date.now():0,a=this[ue](t,e);if(this[k].has(e)){if(a>this[oe])return fe(this,this[k].get(e)),!1;const c=this[k].get(e).value;return this[te]&&(this[Nt]||this[te](e,c.value)),c.now=o,c.maxAge=s,c.value=t,this[ne]+=a-c.length,c.length=a,this.get(e),de(this),!0}const d=new rs(e,t,a,o,s);return d.length>this[oe]?(this[te]&&this[te](e,t),!1):(this[ne]+=d.length,this[M].unshift(d),this[k].set(e,this[M].head),de(this),!0)}has(e){if(!this[k].has(e))return!1;const t=this[k].get(e).value;return!Le(this,t)}get(e){return We(this,e,!0)}peek(e){return We(this,e,!1)}pop(){const e=this[M].tail;return e?(fe(this,e),e.value):null}del(e){fe(this,this[k].get(e))}load(e){this.reset();const t=Date.now();for(let s=e.length-1;s>=0;s--){const o=e[s],a=o.e||0;if(a===0)this.set(o.k,o.v);else{const d=a-t;d>0&&this.set(o.k,o.v,d)}}}prune(){this[k].forEach((e,t)=>We(this,t,!1))}}const We=(n,e,t)=>{const s=n[k].get(e);if(s){const o=s.value;if(Le(n,o)){if(fe(n,s),!n[ve])return}else t&&(n[Zt]&&(s.value.now=Date.now()),n[M].unshiftNode(s));return o.value}},Le=(n,e)=>{if(!e||!e.maxAge&&!n[ae])return!1;const t=Date.now()-e.now;return e.maxAge?t>e.maxAge:n[ae]&&t>n[ae]},de=n=>{if(n[ne]>n[oe])for(let e=n[M].tail;n[ne]>n[oe]&&e!==null;){const t=e.prev;fe(n,e),e=t}},fe=(n,e)=>{if(e){const t=e.value;n[te]&&n[te](t.key,t.value),n[ne]-=t.length,n[k].delete(t.key),n[M].removeNode(e)}};class rs{constructor(e,t,s,o,a){this.key=e,this.value=t,this.length=s,this.now=o,this.maxAge=a||0}}const Ot=(n,e,t,s)=>{let o=t.value;Le(n,o)&&(fe(n,t),n[ve]||(o=void 0)),o&&e.call(s,o.value,o.key,n)};var ss=ns,Ve,xt;function Z(){if(xt)return Ve;xt=1;class n{constructor(p,L){if(L=s(L),p instanceof n)return p.loose===!!L.loose&&p.includePrerelease===!!L.includePrerelease?p:new n(p.raw,L);if(p instanceof o)return this.raw=p.value,this.set=[[p]],this.format(),this;if(this.options=L,this.loose=!!L.loose,this.includePrerelease=!!L.includePrerelease,this.raw=p.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(R=>this.parseRange(R.trim())).filter(R=>R.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const R=this.set[0];if(this.set=this.set.filter(I=>!S(I[0])),this.set.length===0)this.set=[R];else if(this.set.length>1){for(const I of this.set)if(I.length===1&&Y(I[0])){this.set=[I];break}}}this.format()}format(){return this.range=this.set.map(p=>p.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(p){const R=((this.options.includePrerelease&&_)|(this.options.loose&&y))+":"+p,I=t.get(R);if(I)return I;const g=this.options.loose,A=g?E[c.HYPHENRANGELOOSE]:E[c.HYPHENRANGE];p=p.replace(A,De(this.options.includePrerelease)),a("hyphen replace",p),p=p.replace(E[c.COMPARATORTRIM],u),a("comparator trim",p),p=p.replace(E[c.TILDETRIM],m),a("tilde trim",p),p=p.replace(E[c.CARETTRIM],$),a("caret trim",p);let x=p.split(" ").map(D=>J(D,this.options)).join(" ").split(/\s+/).map(D=>Pe(D,this.options));g&&(x=x.filter(D=>(a("loose invalid filter",D,this.options),!!D.match(E[c.COMPARATORLOOSE])))),a("range list",x);const N=new Map,P=x.map(D=>new o(D,this.options));for(const D of P){if(S(D))return[D];N.set(D.value,D)}N.size>1&&N.has("")&&N.delete("");const W=[...N.values()];return t.set(R,W),W}intersects(p,L){if(!(p instanceof n))throw new TypeError("a Range is required");return this.set.some(R=>U(R,L)&&p.set.some(I=>U(I,L)&&R.every(g=>I.every(A=>g.intersects(A,L)))))}test(p){if(!p)return!1;if(typeof p=="string")try{p=new d(p,this.options)}catch{return!1}for(let L=0;L<this.set.length;L++)if($e(this.set[L],p,this.options))return!0;return!1}}Ve=n;const e=ss,t=new e({max:1e3}),s=Ye,o=xe(),a=Ne,d=H,{safeRe:E,t:c,comparatorTrimReplace:u,tildeTrimReplace:m,caretTrimReplace:$}=Ee,{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:y}=Ae,S=v=>v.value==="<0.0.0-0",Y=v=>v.value==="",U=(v,p)=>{let L=!0;const R=v.slice();let I=R.pop();for(;L&&R.length;)L=R.every(g=>I.intersects(g,p)),I=R.pop();return L},J=(v,p)=>(a("comp",v,p),v=Ce(v,p),a("caret",v),v=Q(v,p),a("tildes",v),v=B(v,p),a("xrange",v),v=_e(v,p),a("stars",v),v),G=v=>!v||v.toLowerCase()==="x"||v==="*",Q=(v,p)=>v.trim().split(/\s+/).map(L=>q(L,p)).join(" "),q=(v,p)=>{const L=p.loose?E[c.TILDELOOSE]:E[c.TILDE];return v.replace(L,(R,I,g,A,x)=>{a("tilde",v,R,I,g,A,x);let N;return G(I)?N="":G(g)?N=`>=${I}.0.0 <${+I+1}.0.0-0`:G(A)?N=`>=${I}.${g}.0 <${I}.${+g+1}.0-0`:x?(a("replaceTilde pr",x),N=`>=${I}.${g}.${A}-${x} <${I}.${+g+1}.0-0`):N=`>=${I}.${g}.${A} <${I}.${+g+1}.0-0`,a("tilde return",N),N})},Ce=(v,p)=>v.trim().split(/\s+/).map(L=>ge(L,p)).join(" "),ge=(v,p)=>{a("caret",v,p);const L=p.loose?E[c.CARETLOOSE]:E[c.CARET],R=p.includePrerelease?"-0":"";return v.replace(L,(I,g,A,x,N)=>{a("caret",v,I,g,A,x,N);let P;return G(g)?P="":G(A)?P=`>=${g}.0.0${R} <${+g+1}.0.0-0`:G(x)?g==="0"?P=`>=${g}.${A}.0${R} <${g}.${+A+1}.0-0`:P=`>=${g}.${A}.0${R} <${+g+1}.0.0-0`:N?(a("replaceCaret pr",N),g==="0"?A==="0"?P=`>=${g}.${A}.${x}-${N} <${g}.${A}.${+x+1}-0`:P=`>=${g}.${A}.${x}-${N} <${g}.${+A+1}.0-0`:P=`>=${g}.${A}.${x}-${N} <${+g+1}.0.0-0`):(a("no pr"),g==="0"?A==="0"?P=`>=${g}.${A}.${x}${R} <${g}.${A}.${+x+1}-0`:P=`>=${g}.${A}.${x}${R} <${g}.${+A+1}.0-0`:P=`>=${g}.${A}.${x} <${+g+1}.0.0-0`),a("caret return",P),P})},B=(v,p)=>(a("replaceXRanges",v,p),v.split(/\s+/).map(L=>we(L,p)).join(" ")),we=(v,p)=>{v=v.trim();const L=p.loose?E[c.XRANGELOOSE]:E[c.XRANGE];return v.replace(L,(R,I,g,A,x,N)=>{a("xRange",v,R,I,g,A,x,N);const P=G(g),W=P||G(A),D=W||G(x),re=D;return I==="="&&re&&(I=""),N=p.includePrerelease?"-0":"",P?I===">"||I==="<"?R="<0.0.0-0":R="*":I&&re?(W&&(A=0),x=0,I===">"?(I=">=",W?(g=+g+1,A=0,x=0):(A=+A+1,x=0)):I==="<="&&(I="<",W?g=+g+1:A=+A+1),I==="<"&&(N="-0"),R=`${I+g}.${A}.${x}${N}`):W?R=`>=${g}.0.0${N} <${+g+1}.0.0-0`:D&&(R=`>=${g}.${A}.0${N} <${g}.${+A+1}.0-0`),a("xRange return",R),R})},_e=(v,p)=>(a("replaceStars",v,p),v.trim().replace(E[c.STAR],"")),Pe=(v,p)=>(a("replaceGTE0",v,p),v.trim().replace(E[p.includePrerelease?c.GTE0PRE:c.GTE0],"")),De=v=>(p,L,R,I,g,A,x,N,P,W,D,re,tt)=>(G(R)?L="":G(I)?L=`>=${R}.0.0${v?"-0":""}`:G(g)?L=`>=${R}.${I}.0${v?"-0":""}`:A?L=`>=${L}`:L=`>=${L}${v?"-0":""}`,G(P)?N="":G(W)?N=`<${+P+1}.0.0-0`:G(D)?N=`<${P}.${+W+1}.0-0`:re?N=`<=${P}.${W}.${D}-${re}`:v?N=`<${P}.${W}.${+D+1}-0`:N=`<=${N}`,`${L} ${N}`.trim()),$e=(v,p,L)=>{for(let R=0;R<v.length;R++)if(!v[R].test(p))return!1;if(p.prerelease.length&&!L.includePrerelease){for(let R=0;R<v.length;R++)if(a(v[R].semver),v[R].semver!==o.ANY&&v[R].semver.prerelease.length>0){const I=v[R].semver;if(I.major===p.major&&I.minor===p.minor&&I.patch===p.patch)return!0}return!1}return!0};return Ve}var Ue,bt;function xe(){if(bt)return Ue;bt=1;const n=Symbol("SemVer ANY");class e{static get ANY(){return n}constructor(m,$){if($=t($),m instanceof e){if(m.loose===!!$.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),d("comparator",m,$),this.options=$,this.loose=!!$.loose,this.parse(m),this.semver===n?this.value="":this.value=this.operator+this.semver.version,d("comp",this)}parse(m){const $=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],_=m.match($);if(!_)throw new TypeError(`Invalid comparator: ${m}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new E(_[2],this.options.loose):this.semver=n}toString(){return this.value}test(m){if(d("Comparator.test",m,this.options.loose),this.semver===n||m===n)return!0;if(typeof m=="string")try{m=new E(m,this.options)}catch{return!1}return a(m,this.operator,this.semver,this.options)}intersects(m,$){if(!(m instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(m.value,$).test(this.value):m.operator===""?m.value===""?!0:new c(this.value,$).test(m.semver):($=t($),$.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!$.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||a(this.semver,"<",m.semver,$)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||a(this.semver,">",m.semver,$)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}Ue=e;const t=Ye,{safeRe:s,t:o}=Ee,a=Kt,d=Ne,E=H,c=Z();return Ue}const is=Z(),os=(n,e,t)=>{try{e=new is(e,t)}catch{return!1}return e.test(n)};var be=os;const as=Z(),ls=(n,e)=>new as(n,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));var cs=ls;const hs=H,us=Z(),fs=(n,e,t)=>{let s=null,o=null,a=null;try{a=new us(e,t)}catch{return null}return n.forEach(d=>{a.test(d)&&(!s||o.compare(d)===-1)&&(s=d,o=new hs(s,t))}),s};var ps=fs;const ds=H,ms=Z(),vs=(n,e,t)=>{let s=null,o=null,a=null;try{a=new ms(e,t)}catch{return null}return n.forEach(d=>{a.test(d)&&(!s||o.compare(d)===1)&&(s=d,o=new ds(s,t))}),s};var Es=vs;const Xe=H,gs=Z(),Ct=Oe,ws=(n,e)=>{n=new gs(n,e);let t=new Xe("0.0.0");if(n.test(t)||(t=new Xe("0.0.0-0"),n.test(t)))return t;t=null;for(let s=0;s<n.set.length;++s){const o=n.set[s];let a=null;o.forEach(d=>{const E=new Xe(d.semver.version);switch(d.operator){case">":E.prerelease.length===0?E.patch++:E.prerelease.push(0),E.raw=E.format();case"":case">=":(!a||Ct(E,a))&&(a=E);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),a&&(!t||Ct(t,a))&&(t=a)}return t&&n.test(t)?t:null};var $s=ws;const ys=Z(),Rs=(n,e)=>{try{return new ys(n,e).range||"*"}catch{return null}};var Is=Rs;const Ts=H,Jt=xe(),{ANY:Ss}=Jt,Ls=Z(),As=be,_t=Oe,Pt=ke,Ns=Ze,Os=Ke,xs=(n,e,t,s)=>{n=new Ts(n,s),e=new Ls(e,s);let o,a,d,E,c;switch(t){case">":o=_t,a=Ns,d=Pt,E=">",c=">=";break;case"<":o=Pt,a=Os,d=_t,E="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(As(n,e,s))return!1;for(let u=0;u<e.set.length;++u){const m=e.set[u];let $=null,_=null;if(m.forEach(y=>{y.semver===Ss&&(y=new Jt(">=0.0.0")),$=$||y,_=_||y,o(y.semver,$.semver,s)?$=y:d(y.semver,_.semver,s)&&(_=y)}),$.operator===E||$.operator===c||(!_.operator||_.operator===E)&&a(n,_.semver))return!1;if(_.operator===c&&d(n,_.semver))return!1}return!0};var Je=xs;const bs=Je,Cs=(n,e,t)=>bs(n,e,">",t);var _s=Cs;const Ps=Je,Ds=(n,e,t)=>Ps(n,e,"<",t);var js=Ds;const Dt=Z(),Fs=(n,e,t)=>(n=new Dt(n,t),e=new Dt(e,t),n.intersects(e,t));var Gs=Fs;const Ms=be,Ws=K;var Vs=(n,e,t)=>{const s=[];let o=null,a=null;const d=n.sort((m,$)=>Ws(m,$,t));for(const m of d)Ms(m,e,t)?(a=m,o||(o=m)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);const E=[];for(const[m,$]of s)m===$?E.push(m):!$&&m===d[0]?E.push("*"):$?m===d[0]?E.push(`<=${$}`):E.push(`${m} - ${$}`):E.push(`>=${m}`);const c=E.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const jt=Z(),Qe=xe(),{ANY:He}=Qe,me=be,et=K,Us=(n,e,t={})=>{if(n===e)return!0;n=new jt(n,t),e=new jt(e,t);let s=!1;e:for(const o of n.set){for(const a of e.set){const d=Hs(o,a,t);if(s=s||d!==null,d)continue e}if(s)return!1}return!0},Xs=[new Qe(">=0.0.0-0")],Ft=[new Qe(">=0.0.0")],Hs=(n,e,t)=>{if(n===e)return!0;if(n.length===1&&n[0].semver===He){if(e.length===1&&e[0].semver===He)return!0;t.includePrerelease?n=Xs:n=Ft}if(e.length===1&&e[0].semver===He){if(t.includePrerelease)return!0;e=Ft}const s=new Set;let o,a;for(const y of n)y.operator===">"||y.operator===">="?o=Gt(o,y,t):y.operator==="<"||y.operator==="<="?a=Mt(a,y,t):s.add(y.semver);if(s.size>1)return null;let d;if(o&&a){if(d=et(o.semver,a.semver,t),d>0)return null;if(d===0&&(o.operator!==">="||a.operator!=="<="))return null}for(const y of s){if(o&&!me(y,String(o),t)||a&&!me(y,String(a),t))return null;for(const S of e)if(!me(y,String(S),t))return!1;return!0}let E,c,u,m,$=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,_=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1;$&&$.prerelease.length===1&&a.operator==="<"&&$.prerelease[0]===0&&($=!1);for(const y of e){if(m=m||y.operator===">"||y.operator===">=",u=u||y.operator==="<"||y.operator==="<=",o){if(_&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===_.major&&y.semver.minor===_.minor&&y.semver.patch===_.patch&&(_=!1),y.operator===">"||y.operator===">="){if(E=Gt(o,y,t),E===y&&E!==o)return!1}else if(o.operator===">="&&!me(o.semver,String(y),t))return!1}if(a){if($&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===$.major&&y.semver.minor===$.minor&&y.semver.patch===$.patch&&($=!1),y.operator==="<"||y.operator==="<="){if(c=Mt(a,y,t),c===y&&c!==a)return!1}else if(a.operator==="<="&&!me(a.semver,String(y),t))return!1}if(!y.operator&&(a||o)&&d!==0)return!1}return!(o&&u&&!a&&d!==0||a&&m&&!o&&d!==0||_||$)},Gt=(n,e,t)=>{if(!n)return e;const s=et(n.semver,e.semver,t);return s>0?n:s<0||e.operator===">"&&n.operator===">="?e:n},Mt=(n,e,t)=>{if(!n)return e;const s=et(n.semver,e.semver,t);return s<0?n:s>0||e.operator==="<"&&n.operator==="<="?e:n};var Bs=Us;const Be=Ee,Wt=Ae,qs=H,Vt=Yt,Ys=pe,zs=Yn,ks=Kn,Ks=Jn,Zs=er,Js=rr,Qs=or,ei=cr,ti=fr,ni=K,ri=vr,si=wr,ii=ze,oi=Ir,ai=Lr,li=Oe,ci=ke,hi=zt,ui=kt,fi=Ke,pi=Ze,di=Kt,mi=kr,vi=xe(),Ei=Z(),gi=be,wi=cs,$i=ps,yi=Es,Ri=$s,Ii=Is,Ti=Je,Si=_s,Li=js,Ai=Gs,Ni=Vs,Oi=Bs;var xi={parse:Ys,valid:zs,clean:ks,inc:Ks,diff:Zs,major:Js,minor:Qs,patch:ei,prerelease:ti,compare:ni,rcompare:ri,compareLoose:si,compareBuild:ii,sort:oi,rsort:ai,gt:li,lt:ci,eq:hi,neq:ui,gte:fi,lte:pi,cmp:di,coerce:mi,Comparator:vi,Range:Ei,satisfies:gi,toComparators:wi,maxSatisfying:$i,minSatisfying:yi,minVersion:Ri,validRange:Ii,outside:Ti,gtr:Si,ltr:Li,intersects:Ai,simplifyRange:Ni,subset:Oi,SemVer:qs,re:Be.re,src:Be.src,tokens:Be.t,SEMVER_SPEC_VERSION:Wt.SEMVER_SPEC_VERSION,RELEASE_TYPES:Wt.RELEASE_TYPES,compareIdentifiers:Vt.compareIdentifiers,rcompareIdentifiers:Vt.rcompareIdentifiers};const bi=Xt(xi);var Qt={exports:{}};(function(n){(function(){function e(r,i,h){return r.call.apply(r.bind,arguments)}function t(r,i,h){if(!r)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,l),r.apply(i,f)}}return function(){return r.apply(i,arguments)}}function s(r,i,h){return s=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:t,s.apply(null,arguments)}var o=Date.now||function(){return+new Date};function a(r,i){this.a=r,this.o=i||r,this.c=this.o.document}var d=!!window.FontFace;function E(r,i,h,l){if(i=r.c.createElement(i),h)for(var f in h)h.hasOwnProperty(f)&&(f=="style"?i.style.cssText=h[f]:i.setAttribute(f,h[f]));return l&&i.appendChild(r.c.createTextNode(l)),i}function c(r,i,h){r=r.c.getElementsByTagName(i)[0],r||(r=document.documentElement),r.insertBefore(h,r.lastChild)}function u(r){r.parentNode&&r.parentNode.removeChild(r)}function m(r,i,h){i=i||[],h=h||[];for(var l=r.className.split(/\s+/),f=0;f<i.length;f+=1){for(var w=!1,T=0;T<l.length;T+=1)if(i[f]===l[T]){w=!0;break}w||l.push(i[f])}for(i=[],f=0;f<l.length;f+=1){for(w=!1,T=0;T<h.length;T+=1)if(l[f]===h[T]){w=!0;break}w||i.push(l[f])}r.className=i.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function $(r,i){for(var h=r.className.split(/\s+/),l=0,f=h.length;l<f;l++)if(h[l]==i)return!0;return!1}function _(r){return r.o.location.hostname||r.a.location.hostname}function y(r,i,h){function l(){b&&f&&w&&(b(T),b=null)}i=E(r,"link",{rel:"stylesheet",href:i,media:"all"});var f=!1,w=!0,T=null,b=h||null;d?(i.onload=function(){f=!0,l()},i.onerror=function(){f=!0,T=Error("Stylesheet failed to load"),l()}):setTimeout(function(){f=!0,l()},0),c(r,"head",i)}function S(r,i,h,l){var f=r.c.getElementsByTagName("head")[0];if(f){var w=E(r,"script",{src:i}),T=!1;return w.onload=w.onreadystatechange=function(){T||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(T=!0,h&&h(null),w.onload=w.onreadystatechange=null,w.parentNode.tagName=="HEAD"&&f.removeChild(w))},f.appendChild(w),setTimeout(function(){T||(T=!0,h&&h(Error("Script load timeout")))},l||5e3),w}return null}function Y(){this.a=0,this.c=null}function U(r){return r.a++,function(){r.a--,G(r)}}function J(r,i){r.c=i,G(r)}function G(r){r.a==0&&r.c&&(r.c(),r.c=null)}function Q(r){this.a=r||"-"}Q.prototype.c=function(r){for(var i=[],h=0;h<arguments.length;h++)i.push(arguments[h].replace(/[\W_]+/g,"").toLowerCase());return i.join(this.a)};function q(r,i){this.c=r,this.f=4,this.a="n";var h=(i||"n4").match(/^([nio])([1-9])$/i);h&&(this.a=h[1],this.f=parseInt(h[2],10))}function Ce(r){return we(r)+" "+(r.f+"00")+" 300px "+ge(r.c)}function ge(r){var i=[];r=r.split(/,\s*/);for(var h=0;h<r.length;h++){var l=r[h].replace(/['"]/g,"");l.indexOf(" ")!=-1||/^\d/.test(l)?i.push("'"+l+"'"):i.push(l)}return i.join(",")}function B(r){return r.a+r.f}function we(r){var i="normal";return r.a==="o"?i="oblique":r.a==="i"&&(i="italic"),i}function _e(r){var i=4,h="n",l=null;return r&&((l=r.match(/(normal|oblique|italic)/i))&&l[1]&&(h=l[1].substr(0,1).toLowerCase()),(l=r.match(/([1-9]00|normal|bold)/i))&&l[1]&&(/bold/i.test(l[1])?i=7:/[1-9]00/.test(l[1])&&(i=parseInt(l[1].substr(0,1),10)))),h+i}function Pe(r,i){this.c=r,this.f=r.o.document.documentElement,this.h=i,this.a=new Q("-"),this.j=i.events!==!1,this.g=i.classes!==!1}function De(r){r.g&&m(r.f,[r.a.c("wf","loading")]),v(r,"loading")}function $e(r){if(r.g){var i=$(r.f,r.a.c("wf","active")),h=[],l=[r.a.c("wf","loading")];i||h.push(r.a.c("wf","inactive")),m(r.f,h,l)}v(r,"inactive")}function v(r,i,h){r.j&&r.h[i]&&(h?r.h[i](h.c,B(h)):r.h[i]())}function p(){this.c={}}function L(r,i,h){var l=[],f;for(f in i)if(i.hasOwnProperty(f)){var w=r.c[f];w&&l.push(w(i[f],h))}return l}function R(r,i){this.c=r,this.f=i,this.a=E(this.c,"span",{"aria-hidden":"true"},this.f)}function I(r){c(r.c,"body",r.a)}function g(r){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+ge(r.c)+";"+("font-style:"+we(r)+";font-weight:"+(r.f+"00")+";")}function A(r,i,h,l,f,w){this.g=r,this.j=i,this.a=l,this.c=h,this.f=f||3e3,this.h=w||void 0}A.prototype.start=function(){var r=this.c.o.document,i=this,h=o(),l=new Promise(function(T,b){function C(){o()-h>=i.f?b():r.fonts.load(Ce(i.a),i.h).then(function(j){1<=j.length?T():setTimeout(C,25)},function(){b()})}C()}),f=null,w=new Promise(function(T,b){f=setTimeout(b,i.f)});Promise.race([w,l]).then(function(){f&&(clearTimeout(f),f=null),i.g(i.a)},function(){i.j(i.a)})};function x(r,i,h,l,f,w,T){this.v=r,this.B=i,this.c=h,this.a=l,this.s=T||"BESbswy",this.f={},this.w=f||3e3,this.u=w||null,this.m=this.j=this.h=this.g=null,this.g=new R(this.c,this.s),this.h=new R(this.c,this.s),this.j=new R(this.c,this.s),this.m=new R(this.c,this.s),r=new q(this.a.c+",serif",B(this.a)),r=g(r),this.g.a.style.cssText=r,r=new q(this.a.c+",sans-serif",B(this.a)),r=g(r),this.h.a.style.cssText=r,r=new q("serif",B(this.a)),r=g(r),this.j.a.style.cssText=r,r=new q("sans-serif",B(this.a)),r=g(r),this.m.a.style.cssText=r,I(this.g),I(this.h),I(this.j),I(this.m)}var N={D:"serif",C:"sans-serif"},P=null;function W(){if(P===null){var r=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);P=!!r&&(536>parseInt(r[1],10)||parseInt(r[1],10)===536&&11>=parseInt(r[2],10))}return P}x.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),re(this)};function D(r,i,h){for(var l in N)if(N.hasOwnProperty(l)&&i===r.f[N[l]]&&h===r.f[N[l]])return!0;return!1}function re(r){var i=r.g.a.offsetWidth,h=r.h.a.offsetWidth,l;(l=i===r.f.serif&&h===r.f["sans-serif"])||(l=W()&&D(r,i,h)),l?o()-r.A>=r.w?W()&&D(r,i,h)&&(r.u===null||r.u.hasOwnProperty(r.a.c))?je(r,r.v):je(r,r.B):tt(r):je(r,r.v)}function tt(r){setTimeout(s(function(){re(this)},r),50)}function je(r,i){setTimeout(s(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.m.a),i(this.a)},r),0)}function Fe(r,i,h){this.c=r,this.a=i,this.f=0,this.m=this.j=!1,this.s=h}var ye=null;Fe.prototype.g=function(r){var i=this.a;i.g&&m(i.f,[i.a.c("wf",r.c,B(r).toString(),"active")],[i.a.c("wf",r.c,B(r).toString(),"loading"),i.a.c("wf",r.c,B(r).toString(),"inactive")]),v(i,"fontactive",r),this.m=!0,nt(this)},Fe.prototype.h=function(r){var i=this.a;if(i.g){var h=$(i.f,i.a.c("wf",r.c,B(r).toString(),"active")),l=[],f=[i.a.c("wf",r.c,B(r).toString(),"loading")];h||l.push(i.a.c("wf",r.c,B(r).toString(),"inactive")),m(i.f,l,f)}v(i,"fontinactive",r),nt(this)};function nt(r){--r.f==0&&r.j&&(r.m?(r=r.a,r.g&&m(r.f,[r.a.c("wf","active")],[r.a.c("wf","loading"),r.a.c("wf","inactive")]),v(r,"active")):$e(r.a))}function rt(r){this.j=r,this.a=new p,this.h=0,this.f=this.g=!0}rt.prototype.load=function(r){this.c=new a(this.j,r.context||this.j),this.g=r.events!==!1,this.f=r.classes!==!1,tn(this,new Pe(this.c,r),r)};function en(r,i,h,l,f){var w=--r.h==0;(r.f||r.g)&&setTimeout(function(){var T=f||null,b=l||null||{};if(h.length===0&&w)$e(i.a);else{i.f+=h.length,w&&(i.j=w);var C,j=[];for(C=0;C<h.length;C++){var F=h[C],X=b[F.c],z=i.a,ce=F;if(z.g&&m(z.f,[z.a.c("wf",ce.c,B(ce).toString(),"loading")]),v(z,"fontloading",ce),z=null,ye===null)if(window.FontFace){var ce=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),pn=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ye=ce?42<parseInt(ce[1],10):!pn}else ye=!1;ye?z=new A(s(i.g,i),s(i.h,i),i.c,F,i.s,X):z=new x(s(i.g,i),s(i.h,i),i.c,F,i.s,T,X),j.push(z)}for(C=0;C<j.length;C++)j[C].start()}},0)}function tn(r,i,h){var f=[],l=h.timeout;De(i);var f=L(r.a,h,r.c),w=new Fe(r.c,i,l);for(r.h=f.length,i=0,h=f.length;i<h;i++)f[i].load(function(T,b,C){en(r,w,T,b,C)})}function st(r,i){this.c=r,this.a=i}st.prototype.load=function(r){function i(){if(w["__mti_fntLst"+l]){var T=w["__mti_fntLst"+l](),b=[],C;if(T)for(var j=0;j<T.length;j++){var F=T[j].fontfamily;T[j].fontStyle!=null&&T[j].fontWeight!=null?(C=T[j].fontStyle+T[j].fontWeight,b.push(new q(F,C))):b.push(new q(F))}r(b)}else setTimeout(function(){i()},50)}var h=this,l=h.a.projectId,f=h.a.version;if(l){var w=h.c.o;S(this.c,(h.a.api||"https://fast.fonts.net/jsapi")+"/"+l+".js"+(f?"?v="+f:""),function(T){T?r([]):(w["__MonotypeConfiguration__"+l]=function(){return h.a},i())}).id="__MonotypeAPIScript__"+l}else r([])};function it(r,i){this.c=r,this.a=i}it.prototype.load=function(r){var i,h,l=this.a.urls||[],f=this.a.families||[],w=this.a.testStrings||{},T=new Y;for(i=0,h=l.length;i<h;i++)y(this.c,l[i],U(T));var b=[];for(i=0,h=f.length;i<h;i++)if(l=f[i].split(":"),l[1])for(var C=l[1].split(","),j=0;j<C.length;j+=1)b.push(new q(l[0],C[j]));else b.push(new q(l[0]));J(T,function(){r(b,w)})};function nn(r,i){r?this.c=r:this.c=rn,this.a=[],this.f=[],this.g=i||""}var rn="https://fonts.googleapis.com/css";function sn(r,i){for(var h=i.length,l=0;l<h;l++){var f=i[l].split(":");f.length==3&&r.f.push(f.pop());var w="";f.length==2&&f[1]!=""&&(w=":"),r.a.push(f.join(w))}}function on(r){if(r.a.length==0)throw Error("No fonts to load!");if(r.c.indexOf("kit=")!=-1)return r.c;for(var i=r.a.length,h=[],l=0;l<i;l++)h.push(r.a[l].replace(/ /g,"+"));return i=r.c+"?family="+h.join("%7C"),0<r.f.length&&(i+="&subset="+r.f.join(",")),0<r.g.length&&(i+="&text="+encodeURIComponent(r.g)),i}function an(r){this.f=r,this.a=[],this.c={}}var ot={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},ln={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},cn={i:"i",italic:"i",n:"n",normal:"n"},hn=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function un(r){for(var i=r.f.length,h=0;h<i;h++){var l=r.f[h].split(":"),f=l[0].replace(/\+/g," "),w=["n4"];if(2<=l.length){var T,b=l[1];if(T=[],b)for(var b=b.split(","),C=b.length,j=0;j<C;j++){var F;if(F=b[j],F.match(/^[\w-]+$/)){var X=hn.exec(F.toLowerCase());if(X==null)F="";else{if(F=X[2],F=F==null||F==""?"n":cn[F],X=X[1],X==null||X=="")X="4";else var z=ln[X],X=z||(isNaN(X)?"4":X.substr(0,1));F=[F,X].join("")}}else F="";F&&T.push(F)}0<T.length&&(w=T),l.length==3&&(l=l[2],T=[],l=l?l.split(","):T,0<l.length&&(l=ot[l[0]])&&(r.c[f]=l))}for(r.c[f]||(l=ot[f])&&(r.c[f]=l),l=0;l<w.length;l+=1)r.a.push(new q(f,w[l]))}}function at(r,i){this.c=r,this.a=i}var fn={Arimo:!0,Cousine:!0,Tinos:!0};at.prototype.load=function(r){var i=new Y,h=this.c,l=new nn(this.a.api,this.a.text),f=this.a.families;sn(l,f);var w=new an(f);un(w),y(h,on(l),U(i)),J(i,function(){r(w.a,w.c,fn)})};function lt(r,i){this.c=r,this.a=i}lt.prototype.load=function(r){var i=this.a.id,h=this.c.o;i?S(this.c,(this.a.api||"https://use.typekit.net")+"/"+i+".js",function(l){if(l)r([]);else if(h.Typekit&&h.Typekit.config&&h.Typekit.config.fn){l=h.Typekit.config.fn;for(var f=[],w=0;w<l.length;w+=2)for(var T=l[w],b=l[w+1],C=0;C<b.length;C++)f.push(new q(T,b[C]));try{h.Typekit.load({events:!1,classes:!1,async:!0})}catch{}r(f)}},2e3):r([])};function ct(r,i){this.c=r,this.f=i,this.a=[]}ct.prototype.load=function(r){var i=this.f.id,h=this.c.o,l=this;i?(h.__webfontfontdeckmodule__||(h.__webfontfontdeckmodule__={}),h.__webfontfontdeckmodule__[i]=function(f,w){for(var T=0,b=w.fonts.length;T<b;++T){var C=w.fonts[T];l.a.push(new q(C.name,_e("font-weight:"+C.weight+";font-style:"+C.style)))}r(l.a)},S(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+_(this.c)+"/"+i+".js",function(f){f&&r([])})):r([])};var se=new rt(window);se.a.c.custom=function(r,i){return new it(i,r)},se.a.c.fontdeck=function(r,i){return new ct(i,r)},se.a.c.monotype=function(r,i){return new st(i,r)},se.a.c.typekit=function(r,i){return new lt(i,r)},se.a.c.google=function(r,i){return new at(i,r)};var ht={load:s(se.load,se)};n.exports?n.exports=ht:(window.WebFont=ht,window.WebFontConfig&&se.load(window.WebFontConfig))})()})(Qt);var Ci=Qt.exports;const _i=Xt(Ci);class Pi{app;view;constructor(e,t){if(this.app=e,this.view=t,!V.menuBar)return;const s=Object.values(dn).map(o=>this.createElement(o));t.replaceChildren(...s)}createElement(e){if(e.type=="separator"){const t=document.createElement("div");return t.classList.add("separator"),t}if(e.type=="selection"||e.type=="checkbox"||e.type=="dropdown"){const t=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");let a;if(e.type=="selection"||e.type=="checkbox"){const d=mn[e.id]??{label:e.id,combos:[],callback:()=>{}};a=document.createElement("div"),a.innerText=Ht.getKeybindString(e.id),a.classList.add("keybind","unselectable"),o.innerText=d.label;let E=d.disabled;typeof E=="function"&&(E=E(this.app)),E&&t.classList.add("disabled"),t.addEventListener("click",()=>{if(E)return;d.callback(this.app),t.closest(".menu-main").querySelector(".menubar-dropdown").replaceChildren()})}else a=document.createElement("img"),a.classList.add("icon"),a.src=vn.CHEVRON,a.style.transform="rotate(-90deg)",o.innerText=typeof e.title=="function"?e.title(this.app):e.title;if(s.appendChild(o),s.appendChild(a),t.appendChild(s),t.classList.add("menu-item"),s.classList.add("menu-item-title","menu-hover"),o.classList.add("title","unselectable"),e.type=="dropdown"){const d=document.createElement("div");t.appendChild(d),d.classList.add("menubar-dropdown"),e.options.map(E=>this.createElement(E)).forEach(E=>d.appendChild(E))}if(e.type=="checkbox"){let d=e.checked;typeof d=="function"&&(d=d(this.app)),d&&(o.innerText="✓ "+o.innerText)}return t}if(e.type=="menu"){const t=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");return t.appendChild(s),s.innerText=e.title,t.appendChild(o),s.classList.add("title","unselectable"),t.classList.add("menu-item","menu-main"),s.classList.add("menu-hover"),o.classList.add("menubar-dropdown","unselectable"),t.onmouseenter=()=>{o.replaceChildren(...e.options.map(a=>this.createElement(a)))},t.onmouseleave=()=>{o.replaceChildren()},t}return document.createElement("div")}}class Di{view;windows=[];app;constructor(e,t){this.app=e,this.view=t}unfocusAll(){for(const e of this.view.querySelectorAll(".focused"))e.classList.remove("focused")}getFocusedWindow(){for(const e of this.windows)if(e.windowElement.classList.contains("focused"))return e;return null}isBlocked(){return!this.windows.every(e=>!e.options.blocking)}openWindow(e){if(e.options.win_id){const t=this.getWindowById(e.options.win_id);if(t){t.focus();return}}e.addToManager(this),this.windows.push(e)}removeWindow(e){this.windows.splice(this.windows.indexOf(e),1)}getWindowById(e){for(const t of this.windows)if(t.options.win_id==e)return t}}class ji{renderer;ticker;stage;view;chartManager;windowManager;menubarManager;actionHistory;lastWidth=window.innerWidth;lastHeight=window.innerHeight;constructor(){if(En.setDefaultProps({duration:[200,100],theme:"sm"}),window.nw){const e=nw.Window.get();window.addEventListener("keydown",t=>{(t.key=="r"&&(t.metaKey||t.ctrlKey)||t.key=="F5")&&(t.preventDefault(),e.reload())}),this.checkAppVersion()}if(ie.loadOptions(),gn(),Ht.load(this),setInterval(()=>ie.saveOptions(),1e4),ie.general.smoothAnimations&&document.body.classList.add("animated"),this.registerFonts(),this.view=document.getElementById("pixi"),document.oncontextmenu=e=>{e.preventDefault(),this.chartManager.loadedChart&&e.target==this.view&&ut.open(this,e)},this.view.onmousedown=()=>{ut.close()},this.stage=new wn,this.stage.sortableChildren=!0,this.renderer=new $n({backgroundColor:1579292,antialias:ie.performance.antialiasing,width:this.view.clientWidth,height:this.view.clientHeight,resolution:ie.performance.resolution,autoDensity:!0,view:this.view,powerPreference:"low-power"}),this.ticker=new yn,this.ticker.maxFPS=120,this.ticker.add(()=>{const e=performance.now();this.renderer.render(this.stage),ft.instance?.addFrameTimeValue(performance.now()-e),performance.memory?.usedJSHeapSize&&ft.instance?.addMemoryTimeValue(performance.memory.usedJSHeapSize),bn()},Rn.LOW),this.ticker.start(),In.init(this.renderer),this.chartManager=new Tn(this),this.menubarManager=new Pi(this,document.getElementById("menubar")),this.windowManager=new Di(this,document.getElementById("windows")),this.actionHistory=new pt(this),this.registerListeners(),!V.hidePoweredByText&&Sn()){const e=document.getElementById("embed");e.appendChild(document.createTextNode("Powered by "));const t=document.createElement("a");if(t.href="https://tillvit.github.io/smeditor/",t.innerText="SMEditor",t.target="_blank",e.appendChild(t),V.url!=null){e.appendChild(document.createTextNode(" | Open this chart in a "));const s=document.createElement("a"),o=new URL(location.origin+"/smeditor/app/");s.innerText="new tab",s.target="_blank",o.searchParams.append("url",V.url),V.chartType!==null&&o.searchParams.append("chartType",V.chartType),V.chartIndex!==null&&o.searchParams.append("chartIndex",V.chartIndex+""),s.href=o.toString(),e.appendChild(s)}}dt.initFileSystem().then(()=>{if(V.url){this.chartManager.loadSM(V.url).then(()=>{const e=this.chartManager.loadedSM;if(!e)return;let t;if(V.chartType!=null&&(t=e.charts[V.chartType],t===void 0)){Et.createFormatted(`Couldn't find chart with type ${V.chartType}`,"warn");return}if(t===void 0){const o=Object.keys(e.charts);if(o.length==0||(t=e.charts[o[0]],t.length==0))return}let s;if(V.chartIndex!=null&&(s=t.at(V.chartIndex),s===void 0)){Et.createFormatted(`Couldn't find chart with index ${V.chartIndex}`,"warn");return}s===void 0&&(s=t.at(-1),!s)||this.chartManager.loadChart(s)});return}this.windowManager.openWindow(new Ln(this))}),window.onbeforeunload=e=>{if(pt.instance.isDirty()&&ie.general.warnBeforeExit)return e.preventDefault(),e.returnValue="Are you sure you want to exit?"},window.onunload=()=>{ie.saveOptions()}}registerFonts(){mt.from("Main",{fontFamily:"Assistant",fontSize:20,fill:"white"},{chars:[["a","z"],["A","Z"],"!@#$%^&*()~{}[]:.-?=,_","0123456789/"," "],resolution:window.devicePixelRatio}),mt.from("Fancy",{fontFamily:"Assistant",fontSize:40,fontWeight:"700",fill:["#dddddd","#ffffff"],fillGradientType:An.LINEAR_VERTICAL,stroke:11184810,strokeThickness:3},{chars:[["a","z"],["A","Z"],"!@#$%^&*()~{}[]:.-?=,_","0123456789/"," "],resolution:window.devicePixelRatio})}registerListeners(){window.addEventListener("keydown",function(e){e.code=="Tab"&&e.preventDefault(),e.code=="Enter"&&e.target instanceof HTMLButtonElement&&e.preventDefault()}),window.addEventListener("dragstart",function(e){e.target instanceof HTMLImageElement&&e.preventDefault()}),setInterval(()=>{const e=window.innerWidth,t=window.innerHeight-document.getElementById("menubar").clientHeight;(this.lastHeight!=t||this.lastWidth!=e)&&(this.lastHeight=t,this.lastWidth=e,this.onResize(e,t),Nn.emit("resize"))},100),window.addEventListener("dragover",e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"}),window.addEventListener("drop",e=>{if(window.nw){e.stopPropagation(),e.preventDefault();let t="";for(const s of e.dataTransfer.files)if(s.path)if(vt(s.path)==".ssc"){t=s.path;break}else t==""&&vt(s.path)==".sm"&&(t=s.path);t!=""&&(this.chartManager.loadSM(t),this.windowManager.getWindowById("select_sm_initial")?.closeWindow())}else dt.handleDropEvent(e).then(t=>{const s=new On(this,{title:"Select an sm/ssc file...",accepted_file_types:[".sm",".ssc"],disableClose:!0,callback:o=>{this.chartManager.loadSM(o),this.windowManager.getWindowById("select_sm_initial")?.closeWindow()},onload:()=>{s.getAcceptableFile(t??"").then(o=>s.selectPath(o))}});this.windowManager.openWindow(s)})})}onResize(e,t){this.renderer.screen.width=e,this.renderer.screen.height=t,this.view.width=e*this.renderer.resolution,this.view.height=t*this.renderer.resolution,this.view.style.width=`${e}px`,this.view.style.height=`${t}px`}checkAppVersion(){if(!window.nw)return;const e=nw.require("nw.gui"),t={stable:3,beta:2,alpha:1,nightly:0};let s="win";navigator.userAgent.includes("Mac")?s="mac":navigator.userAgent.includes("Linux")&&(s="linux"),fetch("/smeditor/assets/app/versions.json").then(o=>o.json()).then(o=>{o=o.sort((d,E)=>t[d.type]!=t[E.type]?t[E.type]-t[d.type]:E.date-d.date);const a=o[0];bi.lt(e.App.manifest.version,a.version)&&localStorage.getItem("downloadedVersion")!==a.version&&xn.open(a.version,a.downloads[s])})}}document.querySelector("body").innerHTML=`<div id="popups"></div>
          <div id="view-wrapper"> 
            <div id="menubar"></div>
            <div id="waterfall"></div>
            <canvas id="pixi"></canvas>
          </div> 
          <div id="context-menu"></div>
          <div id="blocker" style="display: none"></div>
          <div id="windows"></div>
          <div id="embed"></div>
        `;_i.load({custom:{families:["Assistant"]},active:Ut,inactive:Ut,classes:!1});function Ut(){const n=document.createElement("canvas");n.getContext("webgl")||n.getContext("experimental-webgl")?window.app=new ji:document.querySelector("body").innerHTML=`<div class='browser-unsupported'>
      <div class='browser-unsupported-item'>
      <h1>WebGL is not enabled</h1>
      <div>Please visit your browser settings and enable WebGL.</div>
      </div>
    </div>`}
